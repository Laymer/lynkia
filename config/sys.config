%% -*- mode: erlang;erlang-indent-level: 2;indent-tabs-mode: nil -*-
%% ex: ts=4 sw=4 ft=erlang et
[
    {plumtree, [
        {broadcast_exchange_timer, 2000},
        {broadcast_mods, [lasp_plumtree_backend]}
    ]},

    {partisan, [
        {peer_port, 27000},
        {partisan_peer_service_manager, partisan_hyparview_peer_service_manager},
        {acceptor_pool_size, 5}
    ]},

    {lasp, [
        {storage_backend, lasp_ets_storage_backend},
        {mode, state_based},
        {max_gc_counter, 10},
        {plumtree_peer_refresh_interval, 2000},
        {delta_interval, 2000}
    ]},

    {lynkia, [
        {task_distribution_strategy, lynkia_pull_strategy}
    ]},

    {kernel, [
    {logger_level, debug},
    {logger, [
            %% Console logger
            {handler, default, logger_std_h,
            #{level => debug,
            formatter => {logger_formatter, #{single_line => true, max_size => 1024}}}
            },

            %% Disk logger for notice
            {handler, disk_log, logger_disk_log_h,
            #{config => #{
                    file => "logs/notice",
                    type => wrap,
                    max_no_files => 10,
                    max_no_bytes => 1048576, % 10 x 1mb
                    filesync_repeat_interval => 1000
                },
                level => debug,
                formatter => {logger_formatter, #{single_line => true, max_size => 1024}}}
            }
        ]}
    ]},

    {grisp, [
        {drivers, []},
        {devices, []}
    ]}
].
